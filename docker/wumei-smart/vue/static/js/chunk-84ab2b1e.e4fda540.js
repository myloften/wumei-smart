(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84ab2b1e"],{7803:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"register"},[r("div",{staticStyle:{width:"520px",padding:"20px"}},[r("el-row",{attrs:{gutter:10}},[r("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[r("div",{staticClass:"login-top"},[r("h1",[e._v("物美智能 - 开源生活物联网平台")]),r("h2",[e._v("wumei smart open source living iot platform")])])]),r("el-col",{attrs:{xs:24,sm:24,md:24,lg:24,xl:24}},[r("el-form",{ref:"registerForm",staticClass:"register-form",staticStyle:{"z-index":"1000"},attrs:{model:e.registerForm,rules:e.registerRules}},[r("h3",{staticClass:"title"},[e._v("注册账号")]),r("el-form-item",{attrs:{prop:"username"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"账号"},model:{value:e.registerForm.username,callback:function(t){e.$set(e.registerForm,"username",t)},expression:"registerForm.username"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"user"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"phonenumber"}},[r("el-input",{attrs:{type:"text","auto-complete":"off",placeholder:"手机号码"},model:{value:e.registerForm.phonenumber,callback:function(t){e.$set(e.registerForm,"phonenumber",t)},expression:"registerForm.phonenumber"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"phone"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"password"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.password,callback:function(t){e.$set(e.registerForm,"password",t)},expression:"registerForm.password"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),r("el-form-item",{attrs:{prop:"confirmPassword"}},[r("el-input",{attrs:{type:"password","auto-complete":"off",placeholder:"确认密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.confirmPassword,callback:function(t){e.$set(e.registerForm,"confirmPassword",t)},expression:"registerForm.confirmPassword"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"password"},slot:"prefix"})],1)],1),e.captchaOnOff?r("el-form-item",{attrs:{prop:"code"}},[r("el-input",{staticStyle:{width:"63%"},attrs:{"auto-complete":"off",placeholder:"验证码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleRegister(t)}},model:{value:e.registerForm.code,callback:function(t){e.$set(e.registerForm,"code",t)},expression:"registerForm.code"}},[r("svg-icon",{staticClass:"el-input__icon input-icon",attrs:{slot:"prefix","icon-class":"validCode"},slot:"prefix"})],1),r("div",{staticClass:"register-code"},[r("img",{staticClass:"register-code-img",attrs:{src:e.codeUrl},on:{click:e.getCode}})])],1):e._e(),r("el-form-item",{staticStyle:{width:"100%"}},[r("el-button",{staticStyle:{width:"100%"},attrs:{loading:e.loading,size:"medium",type:"primary"},nativeOn:{click:function(t){return t.preventDefault(),e.handleRegister(t)}}},[e.loading?r("span",[e._v("注 册 中...")]):r("span",[e._v("注 册")])]),r("div",{staticStyle:{float:"right","margin-top":"10px"}},[r("a",{staticStyle:{"margin-right":"20px"},attrs:{target:"_blank",href:"http://wumei.live"}},[e._v("返回官网")]),r("router-link",{staticStyle:{color:"#fff","font-size":"16px"},attrs:{to:"/login"}},[e._v("使用已有账户登录 >> ")])],1)],1)],1)],1)],1)],1),e._m(0)])},i=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"el-register-footer"},[r("span",[e._v("Copyright © 2018-2021 "),r("a",{attrs:{target:"_blank",href:"http://wumei.live"}},[e._v("wumei smart")]),e._v(" All Rights Reserved.")])])}],o=r("7ded"),n=r("bb86"),a={name:"Register",data:function(){var e=this,t=function(t,r,s){e.registerForm.password!==r?s(new Error("两次输入的密码不一致")):s()};return{codeUrl:"",registerForm:{username:"",phonenumber:"",password:"",confirmPassword:"",code:"",uuid:""},registerRules:{username:[{required:!0,trigger:"blur",message:"请输入您的账号"},{min:2,max:20,message:"用户账号长度必须介于 2 和 20 之间",trigger:"blur"}],phonenumber:[{required:!0,trigger:"blur",message:"请输入您的手机号码"},{min:11,max:11,message:"手机号码长度为11",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"请输入您的密码"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"请再次输入您的密码"},{required:!0,validator:t,trigger:"blur"}],code:[{required:!0,trigger:"change",message:"请输入验证码"}]},loading:!1,captchaOnOff:!0}},created:function(){this.getCode()},methods:{getCode:function(){var e=this;Object(o["a"])().then((function(t){e.captchaOnOff=void 0===t.captchaOnOff||t.captchaOnOff,e.captchaOnOff&&(e.codeUrl="data:image/gif;base64,"+t.img,e.registerForm.uuid=t.uuid)}))},handleRegister:function(){var e=this;this.$refs.registerForm.validate((function(t){t&&(e.loading=!0,Object(n["b"])(e.registerForm).then((function(t){var r=e.registerForm.username;e.$alert("<font color='red'>恭喜你，您的账号 "+r+" 注册成功！</font>","系统提示",{dangerouslyUseHTMLString:!0,type:"success"}).then((function(){e.$router.push("/login")})).catch((function(){}))})).catch((function(){e.loading=!1,e.captchaOnOff&&e.getCode()})))}))}}},c=a,l=(r("8f89"),r("2877")),u=Object(l["a"])(c,s,i,!1,null,null,null);t["default"]=u.exports},"8f89":function(e,t,r){"use strict";r("d6b4")},bb86:function(e,t,r){"use strict";r.d(t,"b",(function(){return p})),r.d(t,"a",(function(){return m}));var s=r("1da1"),i=(r("96cf"),r("b775")),o=r("bc3a"),n=r.n(o),a=r("5c96"),c=r("21a6"),l=r("5f87"),u=r("c38a"),d="/prod-api";function p(e){return Object(i["a"])({url:"/iot/tool/register",headers:{isToken:!1},method:"post",data:e})}function m(e){var t=d+"/iot/tool/download?fileName="+encodeURI(e);n()({method:"get",url:t,responseType:"blob",headers:{Authorization:"Bearer "+Object(l["a"])()}}).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["b"])(t.data);case 2:r=e.sent,r?(s=new Blob([t.data]),Object(c["saveAs"])(s,decodeURI(t.headers["download-filename"]))):a["Message"].error("无效的会话，或者会话已过期，请重新登录。");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}},d6b4:function(e,t,r){}}]);