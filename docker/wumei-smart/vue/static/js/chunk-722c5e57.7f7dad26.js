(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-722c5e57"],{"9b9c":function(t,e,r){"use strict";r.d(e,"e",(function(){return o})),r.d(e,"f",(function(){return a})),r.d(e,"d",(function(){return i})),r.d(e,"a",(function(){return u})),r.d(e,"g",(function(){return l})),r.d(e,"b",(function(){return c})),r.d(e,"c",(function(){return s}));var n=r("b775");function o(t){return Object(n["a"])({url:"/iot/product/list",method:"get",params:t})}function a(){return Object(n["a"])({url:"/iot/product/shortList",method:"get"})}function i(t){return Object(n["a"])({url:"/iot/product/"+t,method:"get"})}function u(t){return Object(n["a"])({url:"/iot/product",method:"post",data:t})}function l(t){return Object(n["a"])({url:"/iot/product",method:"put",data:t})}function c(t){return Object(n["a"])({url:"/iot/product/status/",method:"put",data:t})}function s(t){return Object(n["a"])({url:"/iot/product/"+t,method:"delete"})}},e51f:function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"选择产品",visible:t.open,width:"800px"},on:{"update:visible":function(e){t.open=e}}},[r("div",{staticStyle:{"margin-top":"-55px"}},[r("el-divider",{staticStyle:{"margin-top":"-30px"}}),r("el-form",{ref:"queryForm",attrs:{model:t.queryParams,inline:!0,"label-width":"68px"}},[r("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[r("el-input",{attrs:{placeholder:"请输入产品名称",clearable:"",size:"small"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.handleQuery(e)}},model:{value:t.queryParams.productName,callback:function(e){t.$set(t.queryParams,"productName",e)},expression:"queryParams.productName"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:t.handleQuery}},[t._v("搜索")]),r("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:t.resetQuery}},[t._v("重置")])],1)],1),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"singleTable",attrs:{data:t.productList,"highlight-current-row":"",border:"",size:"mini"},on:{"current-change":t.handleCurrentChange}},[r("el-table-column",{attrs:{label:"选择",width:"50",align:"center"},scopedSlots:t._u([{key:"default",fn:function(t){return[r("input",{attrs:{type:"radio",name:"product"},domProps:{checked:t.row.isSelect}})]}}])}),r("el-table-column",{attrs:{label:"产品名称",align:"center",prop:"productName"}}),r("el-table-column",{attrs:{label:"分类名称",align:"center",prop:"categoryName"}}),r("el-table-column",{attrs:{label:"状态",align:"center",prop:"status"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("dict-tag",{attrs:{options:t.dict.type.iot_product_status,value:e.row.status}})]}}])}),r("el-table-column",{attrs:{label:"联网方式",align:"center",prop:"networkMethod"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("dict-tag",{attrs:{options:t.dict.type.iot_network_method,value:e.row.networkMethod}})]}}])}),r("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t.parseTime(e.row.createTime,"{y}-{m}-{d}")))])]}}])})],1),r("pagination",{directives:[{name:"show",rawName:"v-show",value:t.total>0,expression:"total>0"}],attrs:{total:t.total,page:t.queryParams.pageNum,limit:t.queryParams.pageSize},on:{"update:page":function(e){return t.$set(t.queryParams,"pageNum",e)},"update:limit":function(e){return t.$set(t.queryParams,"pageSize",e)},pagination:t.getList}})],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:t.confirmSelectProduct}},[t._v("确定")]),r("el-button",{attrs:{type:"info"},on:{click:t.closeDialog}},[t._v("关 闭")])],1)])},o=[],a=(r("a9e3"),r("b0c0"),r("9b9c")),i={name:"Product",dicts:["iot_product_status","iot_network_method"],props:{productId:{type:Number,default:0}},data:function(){return{loading:!0,total:0,open:!1,productList:[],product:{},queryParams:{pageNum:1,pageSize:10,productName:null,categoryId:null,categoryName:null,tenantId:null,tenantName:null,isSys:null,status:2,deviceType:null,networkMethod:null}}},created:function(){},methods:{getList:function(){var t=this;this.loading=!0,-1===this.$store.state.user.roles.indexOf("admin")&&(this.queryParams.tenantName=this.$store.state.user.name),Object(a["e"])(this.queryParams).then((function(e){t.productList=e.rows,t.total=e.total,0!=t.productId&&t.setRadioSelected(t.productId),t.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrentChange:function(t){null!=t&&(this.setRadioSelected(t.productId),this.product=t)},setRadioSelected:function(t){for(var e=0;e<this.productList.length;e++)this.productList[e].productId==t?this.productList[e].isSelect=!0:this.productList[e].isSelect=!1},confirmSelectProduct:function(){this.$emit("productEvent",this.product),this.open=!1},closeDialog:function(){this.open=!1}}},u=i,l=r("2877"),c=Object(l["a"])(u,n,o,!1,null,null,null);e["default"]=c.exports}}]);