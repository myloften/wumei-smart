(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6c623876","chunk-2d2082fa"],{1328:function(t,e,a){"use strict";a.d(e,"b",(function(){return o})),a.d(e,"e",(function(){return l})),a.d(e,"f",(function(){return c})),a.d(e,"d",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"i",(function(){return p})),a.d(e,"c",(function(){return m})),a.d(e,"h",(function(){return f})),a.d(e,"a",(function(){return h}));var i=a("bc3a"),r=a.n(i),n="admin",s="public";function o(t){var e="/api/v4/clients";return r()({method:"get",url:e,auth:{username:n,password:s},params:t})}function l(t){var e="/api/v4/subscriptions";return r()({method:"get",url:e,auth:{username:n,password:s},params:t})}function c(t){var e="/api/v4/routes";return r()({method:"get",url:e,auth:{username:n,password:s},params:t})}function u(){var t="/api/v4/plugins";return r()({method:"get",url:t,auth:{username:n,password:s}})}function d(t,e){var a="/api/v4/nodes/"+t+"/plugins/"+e+"/load";return r()({method:"put",url:a,auth:{username:n,password:s}})}function p(t,e){var a="/api/v4/nodes/"+t+"/plugins/"+e+"/unload";return r()({method:"put",url:a,auth:{username:n,password:s}})}function m(){var t="/api/v4/listeners";return r()({method:"get",url:t,auth:{username:n,password:s}})}function f(){var t="/api/v4/metrics";return r()({method:"get",url:t,auth:{username:n,password:s}})}function h(){var t="/api/v4/stats";return r()({method:"get",url:t,auth:{username:n,password:s}})}},"1e4b":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container home"},[a("el-row",{staticStyle:{"margin-bottom":"80px"},attrs:{gutter:40}},[a("el-col",{attrs:{xs:24,sm:24,md:24,lg:14,xl:14}},[a("el-card",{staticStyle:{margin:"-10px"},attrs:{shadow:"hover","body-style":"background-color:#F8F8F8;"}},[a("div",{ref:"map",staticStyle:{height:"650px",margin:"-10px","margin-top":"-5px"}})])],1),a("el-col",{attrs:{xs:24,sm:24,md:24,lg:10,xl:10}},[a("el-card",{staticStyle:{margin:"-10px"},attrs:{shadow:"hover"}},[a("h3",{staticStyle:{"font-weight":"bold"}},[t._v("Mqtt 统计指标")]),a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"guide","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 发送字节 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["bytes.sent"],duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"receiver","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 接收字节 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["bytes.received"],duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"authenticate","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 认证次数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["client.authenticate"],duration:1e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"connect","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 连接次数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["client.connected"],duration:1e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-message"},[a("svg-icon",{attrs:{"icon-class":"subscribe1","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 订阅次数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["client.subscribe"],duration:2e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{span:12}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"message","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 接收消息 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":this.static["messages.received"],duration:2e3}})],1)])])],1)],1),a("el-card",{staticStyle:{margin:"-10px","margin-top":"20px"},attrs:{shadow:"hover"}},[a("div",{ref:"statsChart",staticStyle:{height:"296px"}})])],1)],1),t.isAdmin?a("div",[t._m(0),a("el-row",{attrs:{gutter:40}},[a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("el-card",{staticStyle:{margin:"-10px",height:"218px","margin-bottom":"30px"},attrs:{shadow:"hover"}},[a("el-descriptions",{attrs:{column:1}},[a("el-descriptions-item",{attrs:{label:"服务器名称"}},[a("strong",[t._v(t._s(t.server.sys.computerName))])]),a("el-descriptions-item",{attrs:{label:"服务器IP"}},[a("strong",[t._v(t._s(t.server.sys.computerIp))])]),a("el-descriptions-item",{attrs:{label:"操作系统"}},[a("strong",[t._v(t._s(t.server.sys.osName))])]),a("el-descriptions-item",{attrs:{label:"系统架构"}},[a("strong",[t._v(t._s(t.server.sys.osArch))])]),a("el-descriptions-item",{attrs:{label:"CPU核心"}},[a("strong",[t._v(t._s(t.server.cpu.cpuNum)+"核")])]),a("el-descriptions-item",{attrs:{label:"总内存"}},[a("strong",[t._v(t._s(t.server.mem.total)+"G")])])],1)],1)],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:4}},[a("el-card",{staticStyle:{margin:"-10px",height:"218px","margin-bottom":"30px"},attrs:{shadow:"hover"}},[a("div",{ref:"pieCpu",staticStyle:{height:"200px","margin-bottom":"-20px"}})])],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:4}},[a("el-card",{staticStyle:{margin:"-10px",height:"218px","margin-bottom":"30px"},attrs:{shadow:"hover"}},[a("div",{ref:"pieMemery",staticStyle:{height:"200px","margin-bottom":"-20px"}})])],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:4}},[a("el-card",{staticStyle:{margin:"-10px",height:"218px","margin-bottom":"30px"},attrs:{shadow:"hover"}},[a("div",{ref:"pieDisk",staticStyle:{height:"200px","margin-bottom":"-20px"}})])],1),a("el-col",{attrs:{xs:24,sm:12,md:12,lg:8,xl:6}},[a("el-card",{staticStyle:{margin:"-10px",height:"218px","margin-bottom":"30px"},attrs:{shadow:"hover"}},[a("el-descriptions",{attrs:{column:1}},[a("el-descriptions-item",{attrs:{label:"Java名称"}},[a("strong",[t._v(t._s(t.server.jvm.name))])]),a("el-descriptions-item",{attrs:{label:"启动时间"}},[a("strong",[t._v(t._s(t.server.jvm.startTime))])]),a("el-descriptions-item",{attrs:{label:"Java版本"}},[a("strong",[t._v(t._s(t.server.jvm.version))])]),a("el-descriptions-item",{attrs:{label:"运行时长"}},[a("strong",[t._v(t._s(t.server.jvm.runTime))])]),a("el-descriptions-item",{attrs:{label:"占用内存"}},[a("strong",[t._v(t._s(t.server.jvm.used)+"M")])]),a("el-descriptions-item",{attrs:{label:"JVM总内存"}},[a("strong",[t._v(t._s(t.server.jvm.total)+"M")])])],1)],1)],1)],1)],1):t._e(),a("div",{staticStyle:{margin:"-21px","margin-top":"100px",bottom:"0",border:"1px solid #ccc",padding:"10px","margin-bottom":"-21px"}},[a("div",[a("el-link",{staticStyle:{"margin-left":"20px"},attrs:{href:"http://wumei.live",target:"_blank",type:"primary"}},[t._v("开源生活物联网平台 >>")]),a("el-link",{staticStyle:{"margin-left":"30px"},attrs:{href:"https://github.com/kerwincui/wumei-smart",target:"_blank",type:"danger"}},[t._v("Github源码 >>")]),a("el-link",{staticStyle:{"margin-left":"30px"},attrs:{href:"https://gitee.com/kerwincui/wumei-smart",target:"_blank",type:"success"}},[t._v("码云源码 >>")])],1)])],1)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h2",[a("i",{staticClass:"el-icon-s-data"},[t._v(" 服务器状态")])])}],n=(a("b0c0"),a("d81d"),a("ac1f"),a("5319"),a("ec1b")),s=a.n(n),o=a("313e"),l=a("a45f"),c=a("cc0b"),u=a("1328"),d=a("584f");a("817d"),a("a00a");var p={name:"Index",components:{CountTo:s.a},data:function(){return{isAdmin:!0,queryParams:{userName:""},deviceList:[],deviceCount:0,stats:{},static:{},version:"3.8.0",server:{jvm:{name:"",version:"",startTime:"",runTime:"",used:"",total:100},sys:{computerName:"",osName:"",computerIp:"",osArch:""},cpu:{cpuNum:1},mem:{total:2}}}},created:function(){this.init(),this.getAllDevice(),this.getServer(),this.getMqttStats(),this.statisticMqtt()},methods:{init:function(){-1===this.$store.state.user.roles.indexOf("admin")&&(this.isAdmin=!1,this.queryParams.userName=this.$store.state.user.name)},getAllDevice:function(){var t=this;Object(d["f"])(this.queryParams).then((function(e){t.deviceList=e.rows,t.deviceCount=e.total,t.$nextTick((function(){Object(l["loadBMap"])().then((function(){t.getmap()}))}))}))},statisticMqtt:function(){var t=this;Object(u["h"])().then((function(e){t.static=e.data.data[0].metrics}))},getMqttStats:function(){var t=this;Object(u["a"])().then((function(e){t.stats=e.data.data[0].stats,t.drawStats()}))},getServer:function(){var t=this;Object(c["a"])().then((function(e){t.server=e.data,t.$nextTick((function(){t.drawPieCpu(),t.drawPieMemery(),t.drawPieDisk()}))}))},getmap:function(){var t,e=o["init"](this.$refs.map),a=function(t,e){for(var a=[],i=0;i<t.length;i++){var r=[t[i].longitude,t[i].latitude];r&&t[i].status==e&&a.push({name:t[i].deviceName,value:r,serialNumber:t[i].serialNumber,status:t[i].status,isShadow:t[i].isShadow,firmwareVersion:t[i].firmwareVersion,networkAddress:t[i].networkAddress,productName:t[i].productName,activeTime:t[i].activeTime})}return a};t={title:{text:"设备分布和状态（数量 "+this.deviceCount+"）",subtext:"wumei-smart open source living iot platform",sublink:"https://iot.wumei.live",target:"_blank",textStyle:{color:"#333",textBorderColor:"#fff",textBorderWidth:10},top:10,left:"center"},tooltip:{trigger:"item",formatter:function(t){var e='<div style="padding:5px;line-height:28px;">';return e+="设备名称： <span style='color:#409EFF'>"+t.data.name+"</span><br />",e+="设备状态： ",1==t.data.status?e+="<span style='color:#E6A23C'>未激活</span><br />":2==t.data.status?e+="<span style='color:#F56C6C'>禁用</span><br />":3==t.data.status?e+="<span style='color:#67C23A'>在线</span><br />":4==t.data.status&&(e+="<span style='color:#909399'>离线</span><br />"),1==t.data.isShadow?e+="设备影子： <span style='color:#67C23A'>启用</span><br />":e+="设备影子： <span style='color:#909399'>未启用</span><br />",e+="产品名称： "+t.data.productName+"<br />",e+="固件版本： Version "+t.data.firmwareVersion+"<br />",e+="激活时间： "+t.data.activeTime+"<br />",e+="所在地址： "+t.data.networkAddress+"<br />",e+="</div>",e}},bmap:{center:[133,37],zoom:5,roam:!0,mapStyle:{styleJson:[{featureType:"water",elementType:"all",stylers:{color:"#a0cfff"}},{featureType:"land",elementType:"all",stylers:{color:"#FFFFFF"}},{featureType:"railway",elementType:"all",stylers:{visibility:"off"}},{featureType:"highway",elementType:"all",stylers:{color:"#fdfdfd"}},{featureType:"highway",elementType:"labels",stylers:{visibility:"off"}},{featureType:"arterial",elementType:"geometry",stylers:{color:"#fefefe"}},{featureType:"arterial",elementType:"geometry.fill",stylers:{color:"#fefefe"}},{featureType:"poi",elementType:"all",stylers:{visibility:"off"}},{featureType:"green",elementType:"all",stylers:{visibility:"off"}},{featureType:"subway",elementType:"all",stylers:{visibility:"off"}},{featureType:"manmade",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"local",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"arterial",elementType:"labels",stylers:{visibility:"off"}},{featureType:"boundary",elementType:"all",stylers:{color:"#999999"}},{featureType:"building",elementType:"all",stylers:{color:"#d1d1d1"}},{featureType:"label",elementType:"labels.text.fill",stylers:{color:"#999999"}}]}},series:[{type:"scatter",coordinateSystem:"bmap",data:a(this.deviceList,1),symbolSize:15,itemStyle:{color:"#E6A23C"}},{type:"scatter",coordinateSystem:"bmap",data:a(this.deviceList,2),symbolSize:15,itemStyle:{color:"#F56C6C"}},{type:"scatter",coordinateSystem:"bmap",data:a(this.deviceList,4),symbolSize:15,itemStyle:{color:"#909399"}},{type:"effectScatter",coordinateSystem:"bmap",data:a(this.deviceList,3),symbolSize:15,showEffectOn:"render",rippleEffect:{brushType:"stroke",scale:5},label:{formatter:"{b}",position:"right",show:!1},itemStyle:{color:"#67C23A",shadowBlur:100,shadowColor:"#333"},zlevel:1}]},t&&e.setOption(t)},drawStats:function(){var t,e=o["init"](this.$refs.statsChart);t={title:{text:"Mqtt 状态数据"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01]},yAxis:{type:"category",axisLabel:{fontSize:14},data:["连接数量","会话数量","主题数量","订阅数量","路由数量","保留消息"]},series:[{name:"历史最大数",type:"bar",data:[this.stats["connections.max"],this.stats["sessions.max"],this.stats["topics.max"],this.stats["subscribers.max"],this.stats["routes.max"],this.stats["retained.max"]],itemStyle:{color:"#409EFF"}},{name:"当前数量",type:"bar",data:[this.stats["connections.count"],this.stats["sessions.count"],this.stats["topics.count"],this.stats["subscribers.count"],this.stats["routes.count"],this.stats["retained.count"]],itemStyle:{color:"#67C23A"}}]},t&&e.setOption(t)},drawPieCpu:function(){var t,e=o["init"](this.$refs.pieCpu);t={title:{text:"CPU使用率 %",left:"left"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right"},color:["#E6A23C","#F56C6C","#DDD"],series:[{name:"CPU使用率 %",type:"pie",radius:"55%",label:{show:!1},labelLine:{normal:{position:"inner",show:!1}},data:[{value:this.server.cpu.used,name:"用户"},{value:this.server.cpu.sys,name:"系统"},{value:this.server.cpu.free,name:"空闲"}]}]},t&&e.setOption(t)},drawPieMemery:function(){var t,e=o["init"](this.$refs.pieMemery);t={title:{text:"内存使用 G",left:"left"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right"},color:["#F56C6C","#DDD"],series:[{name:"内存使用率 G",type:"pie",radius:"55%",label:{show:!1},labelLine:{normal:{position:"inner",show:!1}},data:[{value:this.server.mem.used,name:"已用"},{value:this.server.mem.free,name:"剩余"}]}]},t&&e.setOption(t)},drawPieDisk:function(){var t,e=o["init"](this.$refs.pieDisk),a=this.server.sysFiles[0].used.replace("GB",""),i=this.server.sysFiles[0].free.replace("GB","");t={title:{text:"C盘状态 G",left:"left"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"right"},color:["#F56C6C","#DDD"],series:[{name:"磁盘状态 G",type:"pie",radius:"55%",label:{show:!1},labelLine:{normal:{position:"inner",show:!1}},data:[{value:a,name:"已用"},{value:i,name:"可用"}]}]},t&&e.setOption(t)}}},m=p,f=(a("24fa"),a("2877")),h=Object(f["a"])(m,i,r,!1,null,"11b4b2a4",null);e["default"]=h.exports},"24fa":function(t,e,a){"use strict";a("e00d")},"584f":function(t,e,a){"use strict";a.d(e,"g",(function(){return r})),a.d(e,"f",(function(){return n})),a.d(e,"d",(function(){return s})),a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"h",(function(){return c})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return d}));var i=a("b775");function r(t){return Object(i["a"])({url:"/iot/device/shortList",method:"get",params:t})}function n(t){return Object(i["a"])({url:"/iot/device/all",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/iot/device/"+t,method:"get"})}function o(t){return Object(i["a"])({url:"/iot/device/runningStatus/"+t,method:"get"})}function l(t){return Object(i["a"])({url:"/iot/device",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/iot/device",method:"put",data:t})}function u(t){return Object(i["a"])({url:"/iot/device/"+t,method:"delete"})}function d(){return Object(i["a"])({url:"/iot/device/generator",method:"get"})}},"817d":function(t,e,a){var i,r,n;(function(s,o){r=[e,a("313e")],i=o,n="function"===typeof i?i.apply(e,r):i,void 0===n||(t.exports=n)})(0,(function(t,e){var a=function(t){"undefined"!==typeof console&&console&&console.error&&console.error(t)};if(e){var i=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],r={color:i,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:i[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{color:"#008acd",borderColor:"#008acd"},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{color:"#d87a80",color0:"#2ec7c9"},lineStyle:{width:1,color:"#d87a80",color0:"#2ec7c9"},areaStyle:{color:"#2ec7c9",color0:"#b6a2de"}},scatter:{symbol:"circle",symbolSize:4},map:{itemStyle:{color:"#ddd"},areaStyle:{color:"#fe994e"},label:{color:"#d87a80"}},graph:{itemStyle:{color:"#d87a80"},linkStyle:{color:"#2ec7c9"}},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",r)}else a("ECharts is not Loaded")}))},a00a:function(t,e,a){"use strict";a.r(e),a.d(e,"version",(function(){return d}));var i,r=a("313e");function n(t,e){this._bmap=t,this.dimensions=["lng","lat"],this._mapOffset=[0,0],this._api=e,this._projection=new BMap.MercatorProjection}function s(t,e){return e=e||[0,0],r["util"].map([0,1],(function(a){var i=e[a],r=t[a]/2,n=[],s=[];return n[a]=i-r,s[a]=i+r,n[1-a]=s[1-a]=e[1-a],Math.abs(this.dataToPoint(n)[a]-this.dataToPoint(s)[a])}),this)}function o(){function t(t){this._root=t}return t.prototype=new BMap.Overlay,t.prototype.initialize=function(t){return t.getPanes().labelPane.appendChild(this._root),this._root},t.prototype.draw=function(){},t}n.prototype.dimensions=["lng","lat"],n.prototype.setZoom=function(t){this._zoom=t},n.prototype.setCenter=function(t){this._center=this._projection.lngLatToPoint(new BMap.Point(t[0],t[1]))},n.prototype.setMapOffset=function(t){this._mapOffset=t},n.prototype.getBMap=function(){return this._bmap},n.prototype.dataToPoint=function(t){var e=new BMap.Point(t[0],t[1]),a=this._bmap.pointToOverlayPixel(e),i=this._mapOffset;return[a.x-i[0],a.y-i[1]]},n.prototype.pointToData=function(t){var e=this._mapOffset;return t=this._bmap.overlayPixelToPoint({x:t[0]+e[0],y:t[1]+e[1]}),[t.lng,t.lat]},n.prototype.getViewRect=function(){var t=this._api;return new r["graphic"].BoundingRect(0,0,t.getWidth(),t.getHeight())},n.prototype.getRoamTransform=function(){return r["matrix"].create()},n.prototype.prepareCustoms=function(){var t=this.getViewRect();return{coordSys:{type:"bmap",x:t.x,y:t.y,width:t.width,height:t.height},api:{coord:r["util"].bind(this.dataToPoint,this),size:r["util"].bind(s,this)}}},n.dimensions=n.prototype.dimensions,n.create=function(t,e){var a,s=e.getDom();t.eachComponent("bmap",(function(t){var l,c=e.getZr().painter,u=c.getViewportRoot();if("undefined"===typeof BMap)throw new Error("BMap api is not loaded");if(i=i||o(),a)throw new Error("Only one bmap component can exist");if(!t.__bmap){var d=s.querySelector(".ec-extension-bmap");d&&(u.style.left="0px",u.style.top="0px",s.removeChild(d)),d=document.createElement("div"),d.className="ec-extension-bmap",d.style.cssText="position:absolute;width:100%;height:100%",s.appendChild(d);var p=t.get("mapOptions");p&&(p=r["util"].clone(p),delete p.mapType),l=t.__bmap=new BMap.Map(d,p);var m=new i(u);l.addOverlay(m),c.getViewportRootOffset=function(){return{offsetLeft:0,offsetTop:0}}}l=t.__bmap;var f=t.get("center"),h=t.get("zoom");if(f&&h){var v=l.getCenter(),y=l.getZoom(),g=t.centerOrZoomChanged([v.lng,v.lat],y);if(g){var b=new BMap.Point(f[0],f[1]);l.centerAndZoom(b,h)}}a=new n(l,e),a.setMapOffset(t.__mapOffset||[0,0]),a.setZoom(h),a.setCenter(f),t.coordinateSystem=a})),t.eachSeries((function(t){"bmap"===t.get("coordinateSystem")&&(t.coordinateSystem=a)}))};var l=n;function c(t,e){return t&&e&&t[0]===e[0]&&t[1]===e[1]}r["extendComponentModel"]({type:"bmap",getBMap:function(){return this.__bmap},setCenterAndZoom:function(t,e){this.option.center=t,this.option.zoom=e},centerOrZoomChanged:function(t,e){var a=this.option;return!(c(t,a.center)&&e===a.zoom)},defaultOption:{center:[104.114129,37.550339],zoom:5,mapStyle:{},mapStyleV2:{},mapOptions:{},roam:!1}});function u(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}r["extendComponentView"]({type:"bmap",render:function(t,e,a){var i=!0,n=t.getBMap(),s=a.getZr().painter.getViewportRoot(),o=t.coordinateSystem,l=function(e,r){if(!i){var n=s.parentNode.parentNode.parentNode,l=[-parseInt(n.style.left,10)||0,-parseInt(n.style.top,10)||0],c=s.style,u=l[0]+"px",d=l[1]+"px";c.left!==u&&(c.left=u),c.top!==d&&(c.top=d),o.setMapOffset(l),t.__mapOffset=l,a.dispatchAction({type:"bmapRoam",animation:{duration:0}})}};function c(){i||a.dispatchAction({type:"bmapRoam",animation:{duration:0}})}n.removeEventListener("moving",this._oldMoveHandler),n.removeEventListener("moveend",this._oldMoveHandler),n.removeEventListener("zoomend",this._oldZoomEndHandler),n.addEventListener("moving",l),n.addEventListener("moveend",l),n.addEventListener("zoomend",c),this._oldMoveHandler=l,this._oldZoomEndHandler=c;var d=t.get("roam");d&&"scale"!==d?n.enableDragging():n.disableDragging(),d&&"move"!==d?(n.enableScrollWheelZoom(),n.enableDoubleClickZoom(),n.enablePinchToZoom()):(n.disableScrollWheelZoom(),n.disableDoubleClickZoom(),n.disablePinchToZoom());var p=t.__mapStyle,m=t.get("mapStyle")||{},f=JSON.stringify(m);JSON.stringify(p)!==f&&(u(m)||n.setMapStyle(r["util"].clone(m)),t.__mapStyle=JSON.parse(f));var h=t.__mapStyle2,v=t.get("mapStyleV2")||{},y=JSON.stringify(v);JSON.stringify(h)!==y&&(u(v)||n.setMapStyleV2(r["util"].clone(v)),t.__mapStyle2=JSON.parse(y)),i=!1}});r["registerCoordinateSystem"]("bmap",l),r["registerAction"]({type:"bmapRoam",event:"bmapRoam",update:"updateLayout"},(function(t,e){e.eachComponent("bmap",(function(t){var e=t.getBMap(),a=e.getCenter();t.setCenterAndZoom([a.lng,a.lat],e.getZoom())}))}));var d="1.0.0"},a45f:function(t,e,a){"use strict";a.r(e),a.d(e,"loadBMap",(function(){return i}));a("d3b7");function i(){var t="nAtaBg9FYzav6c8P9rF9qzsWZfT8O0PD";return new Promise((function(e,a){if("undefined"!==typeof BMap)return e(BMap),!0;window.onBMapCallback=function(){e(BMap)};var i=document.createElement("script");i.type="text/javascript",i.src="http://api.map.baidu.com/api?v=2.0&ak="+t+"&__ec_v__=20190126&callback=onBMapCallback",i.onerror=a,document.head.appendChild(i)}))}},cc0b:function(t,e,a){"use strict";a.d(e,"a",(function(){return r}));var i=a("b775");function r(){return Object(i["a"])({url:"/monitor/server",method:"get"})}},e00d:function(t,e,a){},ec1b:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(i){if(a[i])return a[i].exports;var r=a[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var i=a(4)(a(1),a(5),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,i.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,i.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,i.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,i.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,i.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],i=e.length>1?this.decimal+e[1]:"",r=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;r.test(a);)a=a.replace(r,"$1"+this.separator+"$2");return this.prefix+a+i+this.suffix}},destroyed:function(){(0,i.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0),r=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=r.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",r.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0,r="webkit moz ms o".split(" "),n=void 0,s=void 0;if("undefined"==typeof window)e.requestAnimationFrame=n=function(){},e.cancelAnimationFrame=s=function(){};else{e.requestAnimationFrame=n=window.requestAnimationFrame,e.cancelAnimationFrame=s=window.cancelAnimationFrame;for(var o=void 0,l=0;l<r.length&&(!n||!s);l++)o=r[l],e.requestAnimationFrame=n=n||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=s=s||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];n&&s||(e.requestAnimationFrame=n=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-i)),r=window.setTimeout((function(){t(e+a)}),a);return i=e+a,r},e.cancelAnimationFrame=s=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=n,e.cancelAnimationFrame=s},function(t,e){t.exports=function(t,e,a,i){var r,n=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(r=t,n=t.default);var o="function"==typeof n?n.options:n;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var l=Object.create(o.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),o.computed=l}return{esModule:r,exports:n,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))}}]);